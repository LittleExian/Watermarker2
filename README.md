# Watermarker2

Watermarker2是一款功能强大的图片水印工具，用于为图片添加文本水印，支持批量处理和丰富的水印定制选项。

## 功能特性

### 文件处理
- 支持单张图片拖拽或通过文件选择器导入
- 支持批量导入，可一次性选择多张图片或直接导入整个文件夹
- 在界面上显示已导入图片的列表（缩略图和文件名）
- 支持多种图片格式：JPEG, PNG, BMP, TIFF
- 支持导出为JPEG或PNG格式
- 可指定输出文件夹，默认禁止导出到原文件夹以防止覆盖原图
- 提供多种文件命名规则：保留原文件名、添加自定义前缀、添加自定义后缀
- 对于JPEG格式，提供图片质量（压缩率）调节功能

### 水印类型与样式
- 文本水印：用户可自定义输入任意文本
- 字体设置：可调整字体大小、颜色、透明度
- 样式选项：支持粗体、斜体文本样式
- 位置调整：提供预设位置（九宫格布局）和手动拖拽调整水印位置
- 旋转功能：允许用户以任意角度旋转水印

### 实时预览与模板管理
- 所有对水印的调整都在主预览窗口中实时显示效果
- 支持水印模板的保存、加载和删除
- 程序启动时可自动加载上一次关闭时的设置

## 安装说明

### 环境要求
- Python 3.6 或更高版本
- Windows 或 MacOS 操作系统

### 安装步骤

#### 使用启动脚本（Windows）
1. 下载或克隆本项目到本地
2. 双击运行 `start.bat` 文件，脚本会自动安装依赖并启动应用程序

#### 手动安装（所有平台）
1. 下载或克隆本项目到本地
2. 打开命令行终端，进入项目目录
3. 安装依赖：
   ```
   pip install -r requirements.txt
   ```
4. 启动应用程序：
   ```
   python watermarker.py
   ```

## 使用说明

### 导入图片
- 点击"导入图片"按钮选择单张或多张图片
- 点击"批量导入"按钮选择整个文件夹中的图片
- 也可以直接将图片拖拽到应用窗口中

### 添加文本水印
- 在"文本水印"标签页中输入水印文本
- 调整字体大小、颜色、透明度等参数
- 使用预设位置按钮或直接在预览窗口中拖拽水印到合适位置
- 如需旋转水印，使用旋转角度滑块进行调整

### 导出图片
- 选择一张图片后，点击"导出图片"按钮
- 在"导出设置"标签页中选择输出格式和命名规则
- 对于JPEG格式，可调整图片质量
- 点击"批量处理"按钮可一次性处理所有已导入的图片

### 模板管理
- 在"模板管理"标签页中，可保存当前水印设置为模板
- 可加载已保存的模板快速应用水印设置
- 可删除不需要的模板

## 项目结构

```
Watermarker2/
├── watermarker.py    # 主程序文件
├── requirements.txt  # 项目依赖列表
├── start.bat         # Windows启动脚本
├── PRD.md            # 产品需求文档
├── README.md         # 项目说明文档
└── LICENSE           # 许可证文件
```

## 开发说明

### 技术栈
- Python 3.6+
- PyQt5：用于构建GUI界面
- Pillow (PIL)：用于图像处理

### 开发环境设置
1. 克隆项目仓库
2. 创建虚拟环境：
   ```
   python -m venv venv
   ```
3. 激活虚拟环境：
   - Windows: `venv\Scripts\activate`
   - MacOS/Linux: `source venv/bin/activate`
4. 安装依赖：
   ```
   pip install -r requirements.txt
   ```

## 许可证

本项目使用 MIT 许可证，详情请参阅 <mcfile name="LICENSE" path="c:\Users\exian\Watermarker2\LICENSE"></mcfile> 文件。

## 致谢

感谢所有为这个项目做出贡献的开发者和用户。

## 反馈与建议

如有任何问题、建议或bug报告，请随时提交Issue或Pull Request。